---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Container } from '../../components/layout/Container';
import { Section } from '../../components/layout/Section';
import { Heading } from '../../components/ui/Heading';
import { Card } from '../../components/ui/Card';
import { Badge } from '../../components/ui/Badge';
import { Button } from '../../components/ui/Button';
import { CTASection } from '../../components/sections/CTASection';

const caseStudies = [
  {
    slug: 'premium-furniture-retailer',
    industry: 'E-commerce',
    company: 'Premium Furniture Retailer',
    logo: 'PFR',
    color: 'from-blue-500 to-blue-600',
    challenge: 'High ad spend ($42K/month) with ROAS of only 1.8x. Wasted budget on low-intent keywords.',
    result: '312% increase in ROAS',
    timeline: '60 days',
    metrics: [
      { label: 'ROAS', before: '1.8x', after: '5.6x', change: '+211%' },
      { label: 'Monthly Revenue', before: '$45K', after: '$186K', change: '+313%' },
      { label: 'CPA', before: '$78', after: '$24', change: '-69%' },
      { label: 'Conversion Rate', before: '1.2%', after: '4.8%', change: '+300%' },
    ],
  },
  {
    slug: 'b2b-analytics-platform',
    industry: 'SaaS',
    company: 'B2B Analytics Platform',
    logo: 'BAP',
    color: 'from-emerald-500 to-emerald-600',
    challenge: 'Low-quality leads eating up budget. SQL rate was only 12%. High CPL of $246.',
    result: '4.2x increase in qualified demos',
    timeline: '75 days',
    metrics: [
      { label: 'SQL Rate', before: '12%', after: '51%', change: '+325%' },
      { label: 'CPL', before: '$246', after: '$89', change: '-64%' },
      { label: 'MRR from Ads', before: '$12K', after: '$68K', change: '+467%' },
      { label: 'Demo-to-Close', before: '8%', after: '24%', change: '+200%' },
    ],
  },
  {
    slug: 'hvac-installation-company',
    industry: 'Home Services',
    company: 'Arctic HVAC Solutions',
    logo: 'AHS',
    color: 'from-purple-500 to-purple-600',
    challenge: 'Seasonal volatility killing profitability. Inconsistent lead flow. High cost per booked job.',
    result: '186% increase in booked jobs',
    timeline: '90 days',
    metrics: [
      { label: 'Cost per Job', before: '$142', after: '$56', change: '-61%' },
      { label: 'Conversion Rate', before: '3.2%', after: '9.1%', change: '+184%' },
      { label: 'Monthly Jobs', before: '28', after: '80', change: '+186%' },
      { label: 'Revenue/Job', before: '$3,200', after: '$3,850', change: '+20%' },
    ],
  },
];

const aggregateStats = [
  { value: '247', suffix: '%', label: 'Average ROAS Increase' },
  { value: '60', suffix: '-90', label: 'Days to Results' },
  { prefix: '$', value: '47M', suffix: '+', label: 'Revenue Managed' },
  { value: '200', suffix: '+', label: 'Success Stories' },
];

const methodology = [
  {
    title: 'CRM Integration First',
    description: 'We connected their CRM so Google\'s AI could learn from actual customers and revenue, not just clicks and form fills.',
    icon: 'üîó',
  },
  {
    title: 'Consolidated Campaign Structure',
    description: 'We rebuilt fragmented campaigns into consolidated structures that feed AI concentrated conversion data for faster learning.',
    icon: 'üéØ',
  },
  {
    title: 'Smart Bidding Implementation',
    description: 'After sufficient data volume, we activated AI-powered bidding strategies that optimize for actual business outcomes.',
    icon: 'ü§ñ',
  },
  {
    title: 'Strategic Patience',
    description: 'We guided clients through the 60-90 day learning period without constant changes that reset AI progress.',
    icon: '‚è±Ô∏è',
  },
];

const industries = [
  'E-commerce',
  'SaaS',
  'B2B Services',
  'Home Services',
  'Finance',
  'Health & Wellness',
  'Education',
  'Legal',
];
---

<BaseLayout
  title="Case Studies - Real Results from Real Businesses - ProfitSEM"
  description="See how we've helped e-commerce, SaaS, and service businesses turn Google Ads into profit machines."
>
  <!-- Hero Section -->
  <Section background="gradient" spacing="xl">
    <Container>
      <div class="max-w-4xl mx-auto text-center text-white">
        <Badge variant="success" size="lg" className="mb-6">
          Proven Results
        </Badge>
        <Heading as="h1" size="6xl" className="mb-6">
          Real Results from
          <span class="block text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-400">
            Real Businesses
          </span>
        </Heading>
        <p class="text-xl text-blue-100 mb-8 max-w-3xl mx-auto">
          See how we trained Google's AI to find high-value customers for e-commerce, SaaS, and service-based businesses. Quality data, consolidated campaigns, and strategic patience delivered predictable results in 60-90 days.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button variant="primary" size="lg" href="/free-analysis">
            Get Your Free Analysis ‚Üí
          </Button>
          <Button variant="secondary" size="lg" href="#case-studies">
            View Success Stories
          </Button>
        </div>
        <p class="text-sm text-blue-200 mt-6">
          * All results verified and from actual client accounts. Individual results may vary.
        </p>
      </div>
    </Container>
  </Section>

  <!-- Aggregate Stats Section -->
  <Section background="white" spacing="lg">
    <Container>
      <div class="grid md:grid-cols-4 gap-8 text-center">
        {aggregateStats.map((stat) => (
          <div>
            <div class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">
              {stat.prefix}{stat.value}{stat.suffix}
            </div>
            <div class="text-gray-600 font-medium">{stat.label}</div>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Case Studies Grid -->
  <Section background="gray" spacing="xl" id="case-studies">
    <Container>
      <div class="text-center mb-12">
        <Heading as="h2" size="4xl" className="mb-4">
          Success Stories
        </Heading>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          See the specific strategies and results that transformed these businesses
        </p>
      </div>

      <div class="space-y-8">
        {caseStudies.map((study, index) => (
          <Card variant="bordered" padding="none" className="overflow-hidden hover:shadow-xl transition-shadow">
            <div class="grid lg:grid-cols-5 gap-0">
              {/* Left Side - Company Info */}
              <div class={`lg:col-span-2 bg-gradient-to-br ${study.color} p-8 text-white flex flex-col justify-between`}>
                <div>
                  <Badge variant="success" size="sm" className="mb-4 bg-white/20 text-white">
                    {study.industry}
                  </Badge>

                  <div class={`w-20 h-20 bg-white/10 backdrop-blur border border-white/20 rounded-xl flex items-center justify-center text-2xl font-bold mb-6`}>
                    {study.logo}
                  </div>

                  <Heading as="h2" size="3xl" className="mb-4">
                    {study.company}
                  </Heading>

                  <div class="mb-6">
                    <p class="text-sm text-white/80 mb-2 font-semibold">The Challenge:</p>
                    <p class="text-white/95 leading-relaxed">{study.challenge}</p>
                  </div>
                </div>

                <div>
                  <div class="bg-white/10 backdrop-blur border border-white/20 rounded-lg p-4 mb-4">
                    <p class="text-sm text-white/80 mb-1">Result</p>
                    <p class="text-2xl font-bold">{study.result}</p>
                  </div>

                  <div class="flex items-center gap-2 text-sm text-white/80">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span>Timeline: {study.timeline}</span>
                  </div>
                </div>
              </div>

              {/* Right Side - Metrics */}
              <div class="lg:col-span-3 p-8 bg-white">
                <Heading as="h3" size="xl" className="mb-6 text-gray-900">
                  Key Metrics Transformed
                </Heading>

                <div class="space-y-4 mb-8">
                  {study.metrics.map((metric) => (
                    <div class="flex items-center justify-between pb-4 border-b border-gray-200 last:border-0">
                      <div class="flex-1">
                        <p class="text-sm font-semibold text-gray-700 mb-2">{metric.label}</p>
                        <div class="flex items-center gap-3">
                          <span class="text-gray-400 line-through text-sm">{metric.before}</span>
                          <svg class="w-4 h-4 text-emerald-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                          </svg>
                          <span class="text-xl font-bold text-gray-900">{metric.after}</span>
                        </div>
                      </div>
                      <div class="text-right">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-emerald-100 text-emerald-800">
                          {metric.change}
                        </span>
                      </div>
                    </div>
                  ))}
                </div>

                <Button variant="primary" size="md" href={`/case-studies/${study.slug}`}>
                  Read Full Case Study ‚Üí
                </Button>
              </div>
            </div>
          </Card>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Methodology Section -->
  <Section background="white" spacing="xl">
    <Container>
      <div class="text-center mb-12">
        <Heading as="h2" size="4xl" className="mb-4">
          How We Achieved These Results
        </Heading>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Our AI training methodology is the same across all clients‚Äîwhat changes are the specific tactics
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        {methodology.map((method) => (
          <Card className="p-6 hover:shadow-lg transition-shadow">
            <div class="flex items-start gap-4">
              <div class="text-4xl">{method.icon}</div>
              <div class="flex-1">
                <Heading as="h3" size="xl" className="mb-3">
                  {method.title}
                </Heading>
                <p class="text-gray-600 leading-relaxed">
                  {method.description}
                </p>
              </div>
            </div>
          </Card>
        ))}
      </div>

      <div class="text-center mt-12">
        <Button variant="primary" size="lg" href="/process">
          See Our Complete 90-Day Process ‚Üí
        </Button>
      </div>
    </Container>
  </Section>

  <!-- Industries Served -->
  <Section background="gray" spacing="lg">
    <Container>
      <div class="text-center mb-8">
        <Heading as="h2" size="3xl" className="mb-4">
          Industries We've Helped Scale
        </Heading>
        <p class="text-gray-600">
          We've successfully trained Google's AI across multiple verticals
        </p>
      </div>
      <div class="flex flex-wrap justify-center gap-4">
        {industries.map((industry) => (
          <div class="px-6 py-3 bg-white rounded-full border-2 border-gray-200 text-gray-700 font-semibold hover:border-emerald-500 hover:text-emerald-600 hover:shadow-md transition-all cursor-pointer">
            {industry}
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Social Proof Section -->
  <Section background="white" spacing="xl">
    <Container>
      <div class="text-center mb-12">
        <Heading as="h2" size="4xl" className="mb-4">
          Why Clients Choose ProfitSEM
        </Heading>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          We don't just manage campaigns‚Äîwe train AI systems to find your best customers
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        {[
          {
            title: 'Transparent Reporting',
            description: 'Every case study includes actual before/after metrics. We don\'t hide behind vanity metrics‚Äîwe report what matters: ROAS, CAC, and revenue.',
          },
          {
            title: 'AI Training Experts',
            description: 'We\'ve trained Google\'s AI hundreds of times. We know how to feed it quality data, when to be patient, and when to scale.',
          },
          {
            title: '90-Day Guarantee',
            description: 'We\'re confident in our AI training process. If we don\'t improve your ROI within 90 days, you get a full refund.',
          },
        ].map((benefit) => (
          <Card className="p-6 text-center">
            <div class="w-12 h-12 bg-gradient-to-br from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
            </div>
            <Heading as="h3" size="xl" className="mb-3">
              {benefit.title}
            </Heading>
            <p class="text-gray-600">
              {benefit.description}
            </p>
          </Card>
        ))}
      </div>
    </Container>
  </Section>

  <!-- CTA Section -->
  <CTASection client:visible />
</BaseLayout>
